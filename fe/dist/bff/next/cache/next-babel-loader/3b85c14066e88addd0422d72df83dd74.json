{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { mediaQ } from '../../../../modules/styles/media';\nimport UnmuteButton from '../../atoms/UnmuteButton';\nimport ShowTweetsButton from '../../atoms/ShowTweetsButton';\nimport MutedTweetList from '../TweetList';\nimport TwAppsConst from '../../TwAppsConst';\nimport { requestUnmuteUser } from '../../../../redux/reducers/resource/mutedUsers';\nconst Item = styled.li.withConfig({\n  displayName: \"ListedUser__Item\",\n  componentId: \"sc-1o71l5t-0\"\n})([\"list-style:none;width:100%;\"]);\n\nconst createTopContainer = isMuted => styled.div.withConfig({\n  displayName: \"ListedUser__createTopContainer\",\n  componentId: \"sc-1o71l5t-1\"\n})([\"align-items:center;background:\", \";display:flex;height:95px;transition:.5s;\", \"{height:190px;}\"], isMuted ? ({\n  theme\n}) => theme.colors.basicWhite : ({\n  theme\n}) => theme.colors.unmutedUserBg, mediaQ.pc);\n\nconst BottomContainer = styled.div.withConfig({\n  displayName: \"ListedUser__BottomContainer\",\n  componentId: \"sc-1o71l5t-2\"\n})([\"display:flex;\"]);\nconst Icon = styled.img.withConfig({\n  displayName: \"ListedUser__Icon\",\n  componentId: \"sc-1o71l5t-3\"\n})([\"border-radius:50%;height:70px;margin:0 40px 0 10px;width:70px;\", \"{height:140px;width:140px;margin:0 70px 0 40px;}\"], mediaQ.pc);\nconst UserNameContainer = styled.div.withConfig({\n  displayName: \"ListedUser__UserNameContainer\",\n  componentId: \"sc-1o71l5t-4\"\n})([\"align-items:flex-start;display:flex;flex-direction:column;font-weight:bold;height:100%;justify-content:center;max-width:70%;padding-top:8px;\", \"{width:420px;}\"], mediaQ.pc);\nconst UserName = styled.p.withConfig({\n  displayName: \"ListedUser__UserName\",\n  componentId: \"sc-1o71l5t-5\"\n})([\"font-size:18px;margin-bottom:5px;\", \"{font-size:1.5rem;margin-bottom:17px;line-height:1.9rem;padding-right:30px;}\"], mediaQ.pc);\n\nconst stateSelector = state => state.basePath;\n\nconst ListedUser = ({\n  mutedUserInfo,\n  index,\n  isUserMuted\n}) => {\n  let {\n    0: showTweets,\n    1: setShowTweets\n  } = useState(TwAppsConst.SHOW_TWEETS_INITIAL);\n  const baseUrl = useSelector(stateSelector);\n  const mutedUser = mutedUserInfo.muted_user;\n  const dispatch = useDispatch();\n  const listedUserRef = React.createRef();\n\n  const handleUnmuteClicked = () => {\n    const accessPath = isUserMuted ? TwAppsConst.UNMUTE_USER_ENDPOINT : TwAppsConst.MUTE_USER_ENDPOINT; // 対象ユーザーがミュートか非ミュートかでエンドポイントが変わる\n\n    const endpoint = `${baseUrl}${accessPath}/${mutedUserInfo.muted_user.screen_name}`;\n    requestUnmuteUser(endpoint, mutedUserInfo.muted_user.screen_name, index, dispatch);\n  };\n  /**\n   * 「ツイートを見る」ボタンクリック時の動作\n   * ユーザーのツイート数とツイートリストの高さをステートに保存する\n   */\n\n\n  const handleShowTweetsClicked = () => {\n    if (showTweets === TwAppsConst.SHOW_TWEETS_OPENED) {\n      setShowTweets(TwAppsConst.SHOW_TWEETS_CLOSED);\n      return;\n    }\n\n    setShowTweets(TwAppsConst.SHOW_TWEETS_OPENED);\n  };\n\n  const TopContainer = createTopContainer(isUserMuted);\n  return __jsx(Item, {\n    ref: listedUserRef\n  }, __jsx(TopContainer, null, __jsx(Icon, {\n    src: mutedUser.profile_image_url_https,\n    alt: \"icon\"\n  }), __jsx(UserNameContainer, null, __jsx(UserName, null, mutedUser.user_name), __jsx(UserName, null, \"@\", mutedUser.screen_name)), __jsx(UnmuteButton, {\n    isForMobile: false,\n    muted: isUserMuted,\n    onClick: () => {\n      handleUnmuteClicked();\n    }\n  })), __jsx(MutedTweetList, {\n    showTweets: showTweets,\n    mutedTweets: mutedUserInfo.tweets_info\n  }), __jsx(BottomContainer, null, __jsx(UnmuteButton, {\n    muted: isUserMuted,\n    onClick: () => {\n      handleUnmuteClicked();\n    }\n  }), __jsx(ShowTweetsButton, {\n    showTweets: showTweets,\n    onClick: () => {\n      handleShowTweetsClicked();\n    }\n  })));\n};\n\nexport default ListedUser;","map":null,"metadata":{},"sourceType":"module"}